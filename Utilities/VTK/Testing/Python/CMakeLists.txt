# VTK-Python testing
IF(GDCM_WRAP_PYTHON)
  INCLUDE(${GDCM_SOURCE_DIR}/CMake/UsePythonTest.cmake)

  STRING(REGEX REPLACE ";" ":" UNIX_VTK_PYTHONPATH_DIRS "${VTK_PYTHONPATH_DIRS}")

  SET(VTK_PYTHON_TESTS
    TestvtkGDCMImageWriter
  )
  IF(CMAKE_HAVE_PTHREAD_H)
    SET(VTK_PYTHON_TESTS ${VTK_PYTHON_TESTS}
      TestvtkGDCMThreadedImageReader
    )
  ENDIF(CMAKE_HAVE_PTHREAD_H)

  FOREACH(test ${VTK_PYTHON_TESTS})
    SET_SOURCE_FILES_PROPERTIES(${test}.py PROPERTIES PYTHONPATH
      "${UNIX_VTK_PYTHONPATH_DIRS}:${LIBRARY_OUTPUT_PATH}")
    ADD_PYTHON_TEST(${test}Python ${test}.py ${GDCM_DATA_ROOT}/test.acr)
  ENDFOREACH(test)

ENDIF(GDCM_WRAP_PYTHON)

