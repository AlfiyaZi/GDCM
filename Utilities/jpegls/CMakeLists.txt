IF(NOT JPEGLS_NAMESPACE)
  SET(JPEGLS_NAMESPACE "JPEGLS")
  SET(JPEGLS_STANDALONE 1)
ENDIF(NOT JPEGLS_NAMESPACE)
# In all cases:
STRING(TOLOWER ${JPEGLS_NAMESPACE} JPEGLS_LIBRARY_NAME)

PROJECT(${JPEGLS_NAMESPACE} C)
CMAKE_MINIMUM_REQUIRED(VERSION 2.2)

INCLUDE (${CMAKE_ROOT}/Modules/CheckIncludeFile.cmake)
CHECK_INCLUDE_FILE("unistd.h"    HAVE_UNISTD_H)
CONFIGURE_FILE(
  "${CMAKE_CURRENT_SOURCE_DIR}/jpegls_config.h.in"
  "${CMAKE_CURRENT_BINARY_DIR}/jpegls_config.h"
  @ONLY IMMEDIATE)
SET(MANGLE_PREFIX ${JPEGLS_LIBRARY_NAME})
CONFIGURE_FILE(${CMAKE_CURRENT_SOURCE_DIR}/jpegls_mangle.h.in
               ${CMAKE_CURRENT_BINARY_DIR}/jpegls_mangle.h
               @ONLY IMMEDIATE)

INCLUDE_DIRECTORIES(BEFORE
  ${CMAKE_CURRENT_BINARY_DIR}
  )
SUBDIRS(
  Decoder
  #Encoder
  )

